{"version":3,"sources":["modules/ui.js"],"names":[],"mappings":"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","file":"modules/ui.js","sourcesContent":["const EventEmitter = require('events');\nconst util = require('util');\nvar open = require(\"open\");\nvar gui = require('nw.gui');\nvar win = gui.Window.get();\n\nimport { utils } from './utils';\n\n/**\n * Creates and binds an instance of the application's user interface and all user interface logic.\n * @constructor\n  * @param {object} cb - Callback to run after the user interface has initialized.\n */\nexport var Ui = function(cb) {\n\t\n\tvar self = this;\n\tvar $ = global.$;\n\tvar app = global.app;\n\n\tself.trigger = function(eventName, eventData, messageHandler) {\n\t\tself.emit(eventName, eventData);\n\t\tapp.message.send(eventName, eventData, messageHandler);\n\t}\n\n\n\tself._el = {\n\t\t$app : $('#app'),\n\t\t$projectCard : $('#projectCard'),\n\t\t$projectLabel : $('#projectLabel'),\n\t\t$projectTitle : $('#projectTitle'),\n\t\t$projectPath : $('#projectPath'),\n\t\t$openProject : $('#openProject'),\n\t\t$newProject : $('#newProject'),\n\t\t$openProjectFolder : $('#openProjectFolder'),\n\t\t$publishProject : $('#publishProject'),\n\t\t$serverPort : $('#serverPort'),\n\t\t$restartServer : $('#restartServer'),\n\t\t$projectInfo : $('#projectInfo'),\n\t\t$cascadeVersion : $('#cascadeVersion'),\n\t\t$cascadePath : $('#cascadePath'),\n\t\t$chooseCascade : $('#chooseCascade'),\n\t\t$toggleCustomCascade : $('#toggleCustomCascade'),\n\t\t$restartCascade : $('#restartCascade'),\n\t\t$pluginsPath : $('#pluginsPath'),\n\t\t$showPlugins : $('#showPlugins'),\n\t\t$openDirectory : $('#openDirectory'),\n\t\t$newDirectory : $('#newDirectory'),\n\t\t$chooseFile : $('#chooseFile'),\n\t\t$previewProject : $('.app-preview'),\n\t\t$openIn : $('.app-open-in'),\n\t\t$toggleLeftMenu : $('#toggleLeftMenu'),\n\t\t$toggleRightMenu : $('#toggleRightMenu'),\n\t\t$clickOverlay : $('#clickOverlay'),\n\t\t$windowClose : $('#windowClose'),\n\t\t$windowMin : $('#windowMinimize'),\n\t\t$downloadOverlay : $('#downloadOverlay'),\n\t\t$downloadBar : $('#downloadBar'),\n\t\t$downloadMessage : $('#downloadMessage')\n\t}\n\n\tself.get = function(el) {\n\t\treturn self._el[el];\n\t}\n\n\tself._set = function (key, value) {\n\t\tvar el = self._el;\n\t\tif (key === 'projectTitle') {\n\t\t\tif (value) {\n\t\t\t\tel.$projectTitle.html(value);\n\t\t\t} else {\n\t\t\t\tel.$projectTitle.html(app.cascade.get('settings').currentProjectDir.split('/').pop());\n\t\t\t}\n\t\t} else if (key === 'projectPath') {\n\t\t\tif (value) {\n\t\t\t\tel.$projectPath.html(value);\n\t\t\t} else {\n\t\t\t\tel.$projectPath.html(app.cascade.get('settings').currentProjectDir);\n\t\t\t}\n\t\t} else if (key === 'serverPort') {\n\t\t\tel.$serverPort.attr('value', app.cascade.get('serverPort'));\n\t\t} else if (key === 'cascadePath') {\n\t\t\tel.$cascadePath.html(app.get('altGulpPath'));\n\t\t} else if (key === 'cascadeVersion') {\n\t\t\tel.$cascadeVersion.html(app.cascade.get('version'));\n\t\t} else if (key === 'pluginsPath') {\n\t\t\tel.$pluginsPath.html(app.cascade.get('userPluginsFolder'));\n\t\t} else if (key === 'customCascade') {\n\t\t\tif (app.get('useAltGulpPath') === true) {\n\t\t\t\tel.$toggleCustomCascade.attr(\"data-value\", \"true\");\n\t\t\t\tel.$toggleCustomCascade.html(\"Disable\");\n\t\t\t} else {\n\t\t\t\tel.$toggleCustomCascade.attr(\"data-value\", \"false\");\n\t\t\t\tel.$toggleCustomCascade.html(\"Enable\");\n\t\t\t}\n\t\t} else if (key === 'appReady') {\n\t\t\tel.$app.addClass(\"ready\");\n\t\t} else if (key === 'projectLabel') {\n\t\t\tel.$projectLabel.html(value);\n\t\t}\n\t}\n\n\tself.toggleMenu = function (menu) {\n\t\tvar el = self._el;\n\n\t\t$(\"body\").toggleClass('menu');\n\t\tif (menu === 'left') {\n\t\t\tel.$app.toggleClass('menu-left');\n\t\t} else if (menu === 'right') {\n\t\t\tel.$app.toggleClass('menu-right');\n\t\t}\n\t}\n\n\n\tself._updateProject = function (defaultProject) {\n\t\tvar el = self._el;\n\t\tel.$projectTitle.trigger('destroy');\n\t\tvar wasDefault = false;\n\t\tif (el.$projectCard.hasClass('default-project')) {\n\t\t\twasDefault = true;\n\t\t}\n\t\t\n\t\tif (defaultProject) {\n\t\t\tel.$projectCard.addClass('default-project');\n\t\t\tel.$projectCard.removeClass('processing');\n\t\t\tself._set('projectLabel', 'No Project Currently Open');\n\t\t\tself._set('projectTitle', 'Default Project');\n\t\t\tself._set('projectPath', 'Please open or create a new project below.');\n\t\t\tself._toggleProjectOptions(false);\n\t\t} else {\n\n\t\t\tif (wasDefault) {\n\t\t\t\tel.$projectCard.removeClass('default-project');\n\t\t\t\tel.$projectCard.removeClass('processing');\n\t\t\t\tself._set('projectLabel', 'Current Project');\n\t\t\t\tself._set('projectTitle');\n\t\t\t\tself._set('projectPath');\n\t\t\t\tself._toggleProjectOptions();\n\t\t\t\tel.$projectTitle.dotdotdot({\n\t\t\t\t\theight: 30,\n\t\t\t\t\twrap: 'letter'\n\t\t\t\t});\n\t\t\t\tvar path = el.$projectPath.html().split( '/' );\n\t\t\t\tpath.pop();\n\t\t\t\tif ( path.length > 1 ) {\n\t\t\t\t\tvar name = path.pop();\n\t\t\t\t\tvar firstPart = path.join('/');\n\t\t\t\t\tel.$projectPath.html( '<span class=\"pathname\">' + firstPart + '</span><span class=\"filename\">/' + name + '</span>' );\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tel.$projectCard.removeClass('default-project');\n\t\t\t\tel.$projectCard.addClass('fade-out-details');\n\t\t\t\tel.$projectCard.removeClass('processing');\n\t\t\t\tself._toggleProjectOptions();\n\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself._set('projectLabel', 'Current Project');\n\t\t\t\t\tself._set('projectTitle');\n\t\t\t\t\tself._set('projectPath');\n\t\t\t\t\tel.$projectTitle.dotdotdot({\n\t\t\t\t\t\theight: 30,\n\t\t\t\t\t\twrap: 'letter'\n\t\t\t\t\t});\n\t\t\t\t\tvar path = el.$projectPath.html().split( '/' );\n\t\t\t\t\tpath.pop();\n\t\t\t\t\tif ( path.length > 1 ) {\n\t\t\t\t\t\tvar name = path.pop();\n\t\t\t\t\t\tvar firstPart = path.join('/');\n\t\t\t\t\t\tel.$projectPath.html( '<span class=\"pathname\">' + firstPart + '</span><span class=\"filename\">/' + name + '</span>' );\n\t\t\t\t\t}\n\t\t\t\t\tel.$projectCard.addClass('enter-details');\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tel.$projectCard.removeClass('fade-out-details');\n\t\t\t\t\t\tel.$projectCard.removeClass('enter-details');\n\t\t\t\t\t}, 1000);\n\t\t\t\t}, 500);\n\t\t\t}\n\t\t}\n\t}\n\n\tself._sccSelect = function (callback) {\n\t\tvar chooser = self._el.$chooseFile;\n\t    chooser.unbind('change');\n\t    chooser.change(function(evt) {\n\t      \tif ($(this).val() !== \"\") {\n      \t\t\tif (callback) {\n      \t\t\t\tcallback($(this).val());\n      \t\t\t}\n      \t\t\tapp.keepWindowOpen = false;\n\t      \t}\n\t    });\n\t    app.keepWindowOpen = true;\n\t    chooser.trigger('click');\n\t}\n\n\tself._fileSelect = function (callback) {\n\t\tvar chooser = self._el.$openDirectory;\n\t    chooser.unbind('change');\n\t    chooser.change(function(evt) {\n\t      \tif ($(this).val() !== \"\") {\n      \t\t\tif (callback) {\n      \t\t\t\tcallback($(this).val());\n      \t\t\t}\n      \t\t\tapp.keepWindowOpen = false;\n\t      \t}\n\t    });\n\t    app.keepWindowOpen = true;\n\t    chooser.trigger('click');\n\t}\n\n\tself._fileSave = function (callback) {\n\t\tvar chooser = self._el.$newDirectory;\n\t    chooser.unbind('change');\n\t    chooser.change(function(evt) {\n\t      \tif ($(this).val() !== \"\") {\n      \t\t\tif (callback) {\n      \t\t\t\tcallback($(this).val());\n      \t\t\t}\n      \t\t\tapp.keepWindowOpen = false;\n\t      \t}\n\t    });\n\t    app.keepWindowOpen = true;\n\t    chooser.trigger('click');\n\t}\n\n\tself._bind_hotkeys = function() {\n\t\tvar showDevToolsOptions = {\n\t\t\tkey : \"Ctrl+Shift+D\",\n\t\t\tactive : function() {\n\t\t\t\tapp.console.showDevTools();\n\t\t\t\twin.showDevTools();\n\t\t\t}\n\t\t};\n\t\tvar showDevTools = new gui.Shortcut(showDevToolsOptions);\n\n\t\tvar reloadAppOptions = {\n\t\t\tkey : \"Ctrl+Shift+R\",\n\t\t\tactive : function() {\n\t\t\t\tapp.restart();\n\t\t\t}\n\t\t};\n\t\tvar reloadApp = new gui.Shortcut(reloadAppOptions);\n\n\n\n\t\twin.on('focus', function() {\n\t\t\tgui.App.registerGlobalHotKey(showDevTools);\n\t\t\tgui.App.registerGlobalHotKey(reloadApp);\n\t\t});\n\n\t\twin.on('blur', function() {\n\t\t\tgui.App.unregisterGlobalHotKey(showDevTools);\n\t\t\tgui.App.unregisterGlobalHotKey(reloadApp);\n\t\t});\n\n\t\tvar showCascadeOptions = {\n\t\t\tkey : \"Ctrl+Shift+C\",\n\t\t\tactive : function() {\n\t\t\t\tif (app.showing) {\n\t\t\t\t\tapp.showing = false;\n\t\t\t\t\twin.hide();\n\t\t\t\t\twin.blur();\n\t\t\t\t} else {\n\t\t\t\t\tapp.showing = true;\n\t\t\t\t\twin.show();\n\t\t\t\t\twin.focus();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tvar showCascade = new gui.Shortcut(showCascadeOptions);\n\t\tgui.App.registerGlobalHotKey(showCascade);\n\t}\n\n\tself._bind_projectOpen = function (element, callback) {\n\t\telement.click(function() {\n\t\t\tself._fileSelect(function(path) {\n\t\t\t\tapp.open(path, function(success) {\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback(success);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\n\tself._bind_leftMenu = function (element, callback) {\n\t\telement.click(function() {\n\t\t\tself.toggleMenu('left');\n\t\t});\n\t}\n\n\tself._bind_rightMenu = function (element, callback) {\n\t\telement.click(function() {\n\t\t\tself.toggleMenu('right');\n\t\t});\n\t}\n\n\tself._bind_projectInfo = function (element, callback) {\n\t\tvar el = self._el;\n\t\telement.click(function() {\n\t\t\tapp.console.restore();\n\t\t\tapp.console.show();\n\t\t\tif (!el.winMenu_showConsole.checked) {\n\t\t\t\tel.winMenu_showConsole.checked = true;\n\t\t\t}\n\t\t});\n\t}\n\n\tself._bind_projectPublish = function (element, callback) {\n\t\telement.click(function() {\n\t\t\tapp.project.publish(function(success) {\n\t\t\t\tif (callback) {\n\t\t\t\t\tcallback(success);\n\t\t\t\t}\n\t\t\t})\n\t\t});\n\t}\n\n\tself._bind_projectNew = function (element, callback) {\n\t\telement.click(function() {\n\t\t\tself._fileSave(function(path) {\n\t\t\t\tpath = path.split('/');\n\t\t\t\tvar name = path.pop();\n\t\t\t\tpath = path.join('/');\n\t\t\t\tapp.new(path, name, function(success) {\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback(success);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\n\tself._bind_projectPreview = function (element) {\n\t\telement.click(function() {\n\t\t\tvar target = $(this).attr('data-target');\n\t\t\tapp.project.preview(target);\n\t\t\t$('body').removeClass('menu');\n\t\t\tself._el.$app.removeClass('menu-right');\n\t\t});\n\t}\n\n\tself._bind_projectOpenIn = function (element) {\n\t\telement.click(function() {\n\t\t\tvar target = $(this).attr('data-target');\n\t\t\tapp.project.viewIn(target);\n\t\t\t$('body').removeClass('menu');\n\t\t\tself._el.$app.removeClass('menu-right');\n\t\t});\n\t}\n\n\tself._bind_appRestart = function (element) {\n\t\tvar el = self._el;\n\t\tvar validateServerPort = function(port) {\n\t\t\tvar isnum = /^\\d+$/.test(port);\n\t\t\treturn isnum;\n\t\t}\n\t\telement.click(function() {\n\t\t\tvar serverPort = el.$serverPort.val();\n\t\t\tvar oldServerPort = app.get('serverPort');\n\t\t\tvar changed = false;\n\t\t\tif (validateServerPort(serverPort) === true && serverPort.split(\"\").length === 4) {\n\t\t\t\tapp.set('serverPort', serverPort);\n\t\t\t\tapp.restart();\n\t\t\t} else {\n\t\t\t\tel.$serverPort.val(oldServerPort);\n\t\t\t\tself.alert(\"Restart Error\", \"'\" + serverPort + \"' is not a valid server port.\");\n\t\t\t}\n\t\t});\n\t}\n\n\tself._bind_pluginsShowFolder = function (element) {\n\t\telement.click(function() {\n\t\t\topen(app.get('userPluginsFolder'), 'finder');\n\t\t});\n\t}\n\n\tself._bind_cascadeToggleCustom = function (element) {\n\t\tvar el = self._el;\n\t\telement.click(function() {\n\t\t\tif (element.attr('data-value') === \"true\") {\n\t\t\t\telement.attr('data-value', \"false\");\n\t\t\t\tapp.set(\"useAltGulpPath\", false);\n\t\t\t} else {\n\t\t\t\telement.attr('data-value', \"true\");\n\t\t\t\tapp.set(\"useAltGulpPath\", true);\n\t\t\t}\n\t\t});\n\t}\n\n\tself._bind_cascadeChooseCustom = function (element) {\n\t\tvar el = self._el;\n\t\telement.click(function() {\n\t\t\tself._fileSelect(function(path) {\n\t\t\t\tel.$cascadePath.html(path);\n\t\t\t\tapp.set(\"altGulpPath\", path);\n\t\t\t});\n\t\t});\n\t}\n\n\tself._bind_clickOutsideCloseMenu = function (element) {\n\t\tvar el = self._el;\n\t\telement.click(function() {\n\t\t\t$('body').removeClass('menu');\n\t\t\tel.$app.removeClass('menu-left');\n\t\t\tel.$app.removeClass('menu-right');\n\t\t});\n\t}\n\n\tself._bind_windowClose = function (element) {\n\t\telement.click(function() {\n\t\t\tgui.App.quit();\n\t\t});\n\t\t\n\t}\n\n\tself._bind_windowMin = function (element) {\n\t\telement.click(function() {\n\t\t\twin.minimize();\n\t\t});\n\t}\n\n\tself._create_nativeMenus = function () {\n\n\t\tvar el = self._el;\n\n\t\tvar projectMenu = new gui.Menu();\n\t\tel.winMenu_new = new gui.MenuItem({ \n\t\t\tlabel: 'New Project',\n\t\t\tkey: 'n',\n\t\t\tmodifiers: 'cmd',\n\t\t\tclick: function () {\n\t\t\t\tel.$newProject.trigger('click');\n\t\t\t}\n\t\t});\n\n\t\tel.winMenu_newFromScc = new gui.MenuItem({ \n\t\t\tlabel: 'New Project From .SCC Package',\n\t\t\tkey: 'e',\n\t\t\tmodifiers: 'cmd',\n\t\t\tclick: function () {\n\t\t\t\tapp.ui._sccSelect(function(file) {\n\t\t\t\t\tapp.open(file);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tel.winMenu_open = new gui.MenuItem({ \n\t\t\tlabel: 'Open...',\n\t\t\tkey: 'o',\n\t\t\tmodifiers: 'cmd',\n\t\t\tclick: function () {\n\t\t\t\tel.$openProject.trigger('click');\n\t\t\t}\n\t\t});\n\n\t\tel.winMenu_openRecent = new gui.MenuItem({ \n\t\t\tlabel: 'Open Recent'\n\t\t});\n\n\t\tvar updateRecentMenu = function() {\n\t\t\tvar recentMenu = new gui.Menu();\n\t\t\tvar recentProjects = app.get('settings').recentProjects;\n\t\t\tfor (var i = 0; i < recentProjects.length; i++) {\n\t\t\t\tvar createMenu = function(i) {\n\t\t\t\t\tvar projPath = recentProjects[i];\n\t\t\t\t\tvar projMenuItem = new gui.MenuItem({ \n\t\t\t\t\t\tlabel: projPath,\n\t\t\t\t\t\tclick: function () {\n\t\t\t\t\t\t\tapp.open(projPath);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif (i !== 0) {\n\t\t\t\t\t\trecentMenu.append(projMenuItem);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcreateMenu(i);\n\t\t\t}\n\t\t\tel.winMenu_openRecent.submenu = recentMenu;\n\t\t}\n\n\t\tapp.on('set', function(event) {\n\t\t\tif (event.data.key === 'recentProjects') {\n\t\t\t\tupdateRecentMenu();\n\t\t\t}\n\t\t});\n\n\t\tel.winMenu_separator = new gui.MenuItem({ \n\t\t\ttype: \"separator\"\n\t\t});\n\t\tel.winMenu_rename = new gui.MenuItem({ \n\t\t\tlabel: 'Rename',\n\t\t\tkey: 'u',\n\t\t\tmodifiers: 'cmd',\n\t\t\tclick: function() {\n\t\t\t\tvar newName = prompt(\"Please enter a new name:\", app.cascade.get('settings').currentProjectDir.split('/').pop());\n\t\t\t    if (newName != null) {\n\t\t\t        app.project.rename(newName);\n\t\t\t    }\n\t\t\t}\n\t\t});\n\t\tel.winMenu_duplicate = new gui.MenuItem({ \n\t\t\tlabel: 'Save As...',\n\t\t\tkey: 's',\n\t\t\tmodifiers: 'cmd',\n\t\t\tclick: function() {\n\t\t\t\tself._fileSave(function(path) {\n\t\t\t\t\tapp.project.duplicate(path);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tel.winMenu_folder = new gui.MenuItem({ \n\t\t\tlabel: 'Show Folder',\n\t\t\tkey: 'f',\n\t\t\tmodifiers: 'cmd',\n\t\t\tclick: function () {\n\t\t\t\tapp.project.viewIn();\n\t\t\t}\n\t\t});\n\t\tel.winMenu_publish = new gui.MenuItem({ \n\t\t\tlabel: 'Publish',\n\t\t\tkey: 'p',\n\t\t\tmodifiers: 'cmd',\n\t\t\tclick: function () {\n\t\t\t\tel.$publishProject.trigger('click');\n\t\t\t}\n\t\t});\n\t\tprojectMenu.append(el.winMenu_new);\n\t\tprojectMenu.append(el.winMenu_newFromScc);\n\t\tprojectMenu.append(el.winMenu_open);\n\t\tprojectMenu.append(el.winMenu_openRecent);\n\t\tprojectMenu.append(el.winMenu_duplicate);\n\t\tprojectMenu.append(el.winMenu_separator);\n\t\tprojectMenu.append(el.winMenu_rename);\n\t\tprojectMenu.append(el.winMenu_folder);\n\t\tprojectMenu.append(el.winMenu_publish);\n\t\tvar projectMenuParent = new gui.MenuItem({\n\t        label: 'Project',\n\t        submenu: projectMenu\n\t    });\n\t\twin.menu.insert(projectMenuParent, 1);\n\n\n\n\t\tvar previewMenu = new gui.Menu();\n\t\tel.winMenu_preview = new gui.MenuItem({ \n\t\t\tlabel: 'Preview in Default Browser',\n\t\t\tkey: '2',\n\t\t\tmodifiers: 'cmd',\n\t\t\tclick: function () {\n\t\t\t\tapp.project.preview();\n\t\t\t}\n\t\t});\n\t\tel.winMenu_separator = new gui.MenuItem({ \n\t\t\ttype: \"separator\"\n\t\t});\n\t\tel.winMenu_previewChrome = new gui.MenuItem({ \n\t\t\tlabel: 'Preview in Chrome',\n\t\t\tkey: '3',\n\t\t\tmodifiers: 'cmd',\n\t\t\tclick: function () {\n\t\t\t\tapp.project.preview('google chrome');\n\t\t\t}\n\t\t});\n\t\tel.winMenu_previewSafari = new gui.MenuItem({ \n\t\t\tlabel: 'Preview in Safari',\n\t\t\tkey: '4',\n\t\t\tmodifiers: 'cmd',\n\t\t\tclick: function () {\n\t\t\t\tapp.project.preview('safari');\n\t\t\t}\n\t\t});\n\t\tel.winMenu_previewFirefox = new gui.MenuItem({ \n\t\t\tlabel: 'Preview in Firefox',\n\t\t\tkey: '5',\n\t\t\tmodifiers: 'cmd',\n\t\t\tclick: function () {\n\t\t\t\tapp.project.preview('firefox');\n\t\t\t}\n\t\t});\n\t\tel.winMenu_previewOpera = new gui.MenuItem({ \n\t\t\tlabel: 'Preview in Opera',\n\t\t\tkey: '6',\n\t\t\tmodifiers: 'cmd',\n\t\t\tclick: function () {\n\t\t\t\tapp.project.preview('opera');\n\t\t\t}\n\t\t});\n\t\tpreviewMenu.append(el.winMenu_preview);\n\t\tpreviewMenu.append(el.winMenu_separator);\n\t\tpreviewMenu.append(el.winMenu_previewChrome);\n\t\tpreviewMenu.append(el.winMenu_previewSafari);\n\t\tpreviewMenu.append(el.winMenu_previewFirefox);\n\t\tpreviewMenu.append(el.winMenu_previewOpera);\n\t\tvar previewMenuParent = new gui.MenuItem({\n\t        label: 'Preview',\n\t        submenu: previewMenu\n\t    });\n\t\twin.menu.append(previewMenuParent);\n\n\t\tvar serverMenu = new gui.Menu();\n\t\tel.winMenu_proxy = new gui.MenuItem({ \n\t\t\tlabel: 'Use Proxy Server',\n\t\t\tclick: function() {\n\t\t\t\tvar currentProxy = app.get('settings').proxy;\n\t\t\t\tif (!currentProxy) {\n\t\t\t\t\tcurrentProxy = '';\n\t\t\t\t}\n\t\t\t\tvar proxy = prompt(\"Please enter your proxy server and port (i.e. 'localproxy.com:80').\\nLeave blank if no proxy server is desired.\", currentProxy);\n\t\t\t    if (proxy != null) {\n\t\t\t    \tif (proxy === '') {\n\t\t\t    \t\tproxy = null;\n\t\t\t    \t}\n\t\t\t        app.set('proxy', proxy);\n\t\t\t        if (proxy !== currentProxy) {\n\t\t\t        \talert(\"You have updated your proxy server settings.\\nThe application will need to restart.\");\n\t\t\t        \tapp.restart();\n\t\t\t        }\n\t\t\t    }\n\t\t\t}\n\t\t});\n\t\tserverMenu.append(el.winMenu_proxy);\n\t\tvar serverMenuParent = new gui.MenuItem({\n\t        label: 'Server',\n\t        submenu: serverMenu\n\t    });\n\t    win.menu.append(serverMenuParent);\n\n\t\tvar windowMenu = win.menu.items[3].submenu;\n\t\tvar separator = new gui.MenuItem({ \n\t\t\ttype: \"separator\"\n\t\t});\n\t\tel.winMenu_showConsole = new gui.MenuItem({ \n\t\t\tlabel: 'Show Project Console',\n\t\t\ttype: \"checkbox\",\n\t\t\tchecked: false,\n\t\t\tkey: '1',\n\t\t\tmodifiers: 'cmd',\n\t\t\tclick: function() {\n\t\t\t\tif (this.checked) {\n\t\t\t\t\tapp.console.restore();\n\t\t\t\t\tapp.console.show();\n\t\t\t\t} else {\n\t\t\t\t\tapp.console.restore();\n\t\t\t\t\tapp.console.hide();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tel.winMenu_trayMode = new gui.MenuItem({ \n\t\t\tlabel: 'Enable Menu Bar Mode',\n\t\t\ttype: \"checkbox\",\n\t\t\tchecked: app.get('settings').trayMode,\n\t\t\tkey: 't',\n\t\t\tmodifiers: 'cmd',\n\t\t\tclick: function() {\n\t\t\t\tif (this.checked) {\n\t\t\t\t\tapp.set(\"trayMode\", true);\n\t\t\t\t\tself._setupTrayMode(true);\n\t\t\t\t} else {\n\t\t\t\t\tapp.set(\"trayMode\", false);\n\t\t\t\t\tself._setupTrayMode(false);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\twindowMenu.append(separator);\n\t\twindowMenu.append(el.winMenu_showConsole);\n\t\twindowMenu.append(el.winMenu_trayMode);\n\n\n\t\tvar helpMenu = new gui.Menu();\n\t\tel.winMenu_docs = new gui.MenuItem({ \n\t\t\tlabel: 'Cascade Documentation',\n\t\t\tkey: '7',\n\t\t\tmodifiers: 'cmd',\n\t\t\tclick: function() {\n\t\t\t\tvar url = app.get(\"settings\").documentation;\n\t\t\t\topen(url);\n\t\t\t}\n\t\t});\n\t\tel.winMenu_knowledgeBase = new gui.MenuItem({ \n\t\t\tlabel: 'Specless Knowledge Base',\n\t\t\tkey: '8',\n\t\t\tmodifiers: 'cmd',\n\t\t\tclick: function() {\n\t\t\t\tvar url = app.get(\"settings\").knowledgeBase;\n\t\t\t\topen(url);\n\t\t\t}\n\t\t});\n\t\tel.winMenu_contact = new gui.MenuItem({ \n\t\t\tlabel: 'Contact Support',\n\t\t\tkey: '9',\n\t\t\tmodifiers: 'cmd',\n\t\t\tclick: function() {\n\t\t\t\tvar url = app.get(\"settings\").contact;\n\t\t\t\topen(url);\n\t\t\t}\n\t\t});\n\t\tel.winMenu_reportBug = new gui.MenuItem({ \n\t\t\tlabel: 'Report a Bug',\n\t\t\tkey: '0',\n\t\t\tmodifiers: 'cmd',\n\t\t\tclick: function() {\n\t\t\t\tvar url = app.get(\"settings\").reportBug;\n\t\t\t\topen(url);\n\t\t\t}\n\t\t});\n\t\tvar separator = new gui.MenuItem({ \n\t\t\ttype: \"separator\"\n\t\t});\n\t\thelpMenu.append(el.winMenu_docs);\n\t\thelpMenu.append(el.winMenu_knowledgeBase);\n\t\thelpMenu.append(separator);\n\t\thelpMenu.append(el.winMenu_contact);\n\t\thelpMenu.append(el.winMenu_reportBug);\n\t\tvar helpMenuParent = new gui.MenuItem({\n\t        label: 'Help',\n\t        submenu: helpMenu\n\t    });\n\t\twin.menu.append(helpMenuParent);\n\t}\n\n\tself._bindAll = function () {\n\t\tvar el = self._el;\n\t\tself._bind_hotkeys();\n\t\tself._bind_projectOpen(el.$openProject);\n\t\tself._bind_projectNew(el.$newProject);\n\t\tself._bind_projectPreview(el.$previewProject);\n\t\tself._bind_projectOpenIn(el.$openIn);\n\t\tself._bind_projectPublish(el.$publishProject);\n\t\tself._bind_appRestart(el.$restartServer);\n\t\tself._bind_pluginsShowFolder(el.$showPlugins);\n\t\tself._bind_cascadeToggleCustom(el.$toggleCustomCascade);\n\t\tself._bind_cascadeChooseCustom(el.$chooseCascade);\n\t\tself._bind_leftMenu(el.$toggleLeftMenu);\n\t\tself._bind_rightMenu(el.$toggleRightMenu);\n\t\tself._bind_clickOutsideCloseMenu(el.$clickOverlay);\n\t\tself._bind_windowClose(el.$windowClose);\n\t\tself._bind_windowMin(el.$windowMin);\n\t\tself._bind_projectInfo(el.$projectInfo);\n\t}\n\n\tself._setAll = function () {\n\t\tself._set('serverPort');\n\t\tself._set('cascadePath');\n\t\tself._set('cascadeVersion');\n\t\tself._set('pluginsPath');\n\t\tself._set('customCascade');\n\t\tself._set('appReady');\n\t}\n\n\n\tself._setupTrayMode = function (enableDisable) {\n\n\t\tvar hideWindow = function() {\n\t\t\t$('body').animate({\n\t\t\t\topacity: 0,\n\t\t\t}, 300, function() {\n\t\t\t\twin.hide();\n\t\t\t\t$('body').css('opacity', 1);\n\t\t\t});\n\t\t}\n\n\t\tvar showWindow = function() {\n\t\t\t$('body').animate({\n\t\t\t\topacity: 1,\n\t\t\t}, 1, function() {\n\t\t\t\twin.show();\n\t\t\t\t$('body').css('opacity', 1);\n\t\t\t});\n\t\t}\n\n\t\tif (enableDisable === true || enableDisable === undefined) {\n\t\t\tapp.trayModeOn = true;\n\t\t\thideWindow();\n\t\t\tapp.showing = false;\n\t\t\t$('body').addClass(\"arrow\");\n\t\t\twin.setVisibleOnAllWorkspaces(true);\n\t\t\twin.setAlwaysOnTop(true);\n\t\t\tdocument.title = 'Cascade';\n  \t\t\tdocument.title = '';\n\t\t\tapp.tray = new gui.Tray({\n\t\t\t\ticon: app.path + \"/assets/cascade_16x16.png\",\n\t\t\t\ticonIsTemplate: true\n\t\t\t});\n\t\t\tapp.tray.on('click', function(event) {\n\t\t\t\twin.moveTo(event.x + 14 - (win.width/2), event.y);\n\t\t\t\tif (app.showing === false) {\n\t\t\t\t\tshowWindow();\n\t\t\t\t\twin.focus();\n\t\t\t\t\tapp.showing = true;\n\t\t\t\t} else {\n\t\t\t\t\thideWindow();\n\t\t\t\t\tapp.showing = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\twin.on('blur', function(event) {\n\t\t\t\tif (app.trayModeOn === true) {\n\t\t\t\t\tif (app.keepWindowOpen === false) {\n\t\t\t\t\t\thideWindow();\n\t\t\t\t\t\tapp.showing = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t});\n\t\t\twin.on('focus', function(event) {\n\t\t\t\tif (app.trayModeOn === true) {\n\t\t\t\t\tshowWindow();\n\t\t\t\t\tapp.showing = true;\n\t\t\t\t\tapp.keepWindowOpen = false;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tapp.trayModeOn = false;\n\t\t\tif (app.tray) {\n\t\t\t\tapp.tray.remove();\n\t\t\t\tapp.tray = null;\n\t\t\t}\n\t\t\twin.show();\n\t\t\twin.focus();\n\t\t\tapp.showing = true;\n\t\t\t$('body').removeClass(\"arrow\");\n\t\t\twin.setVisibleOnAllWorkspaces(false);\n\t\t\twin.setAlwaysOnTop(false);\n\t\t\t//win.moveBy(-200, 200);\n\t\t}\n\t}\n\n\tself._setupWindows = function () {\n\t\tvar el = self._el;\n\t\twin.show();\n\t\twin.focus();\n\t\tapp.showing = true;\n\n\t\tif (app.get(\"settings\").trayMode === true) {\n\t\t\tself._setupTrayMode(true);\n\t\t} else {\n\t\t\tself._setupTrayMode(false);\n\t\t}\n\n\t\tgui.App.on('reopen', function() {\n\t\t  win.show();\n\t\t  win.focus();\n\t\t  app.showing = true;\n\t\t});\n\n\t\tapp.console = gui.Window.open('console.html', {\n\t\t\twidth: 940, height: 550,\n\t\t\ttoolbar: false,\n\t\t\tframe: false,\n\t\t\tshow: false\n\t\t});\n\t\tapp.console.setMinimumSize(910, 440);\n\t\t//app.console.setVisibleOnAllWorkspaces(true);\n\t\tapp.console.on('loaded', function() {\n\t\t\tel.console = app.console.window;\n\t\t\tel.$log = el.console.$('#log');\n\t\t\tel.console.$('#windowClose').click(function() {\n\t\t\t\tapp.console.hide();\n\t\t\t\tel.winMenu_showConsole.checked = false;\n\t\t\t});\n\t\t\tel.console.$('#windowMinimize').click(function() {\n\t\t\t\tapp.console.minimize();\n\t\t\t});\n\t\t\tself.ready = true;\n\t\t});\n\t}\n\n\tself._toggleProjectOptions = function (enableDisable) {\n\t\tvar el = self._el;\n\t\tif (!app.project || enableDisable === false) {\n\t\t\t$('body').addClass('no-project');\n\t\t\tel.winMenu_preview.enabled = false;\n\t\t\tel.winMenu_previewChrome.enabled = false;\n\t\t\tel.winMenu_previewSafari.enabled = false;\n\t\t\tel.winMenu_previewFirefox.enabled = false;\n\t\t\tel.winMenu_previewOpera.enabled = false;\n\t\t\tel.winMenu_duplicate.enabled = false;\n\t\t\tel.winMenu_folder.enabled = false;\n\t\t\tel.winMenu_rename.enabled = false;\n\t\t\tel.winMenu_publish.enabled = false;\n\n\t\t} else {\n\t\t\t$('body').removeClass('no-project');\n\t\t\tel.winMenu_preview.enabled = true;\n\t\t\tel.winMenu_previewChrome.enabled = true;\n\t\t\tel.winMenu_previewSafari.enabled = true;\n\t\t\tel.winMenu_previewFirefox.enabled = true;\n\t\t\tel.winMenu_previewOpera.enabled = true;\n\t\t\tel.winMenu_duplicate.enabled = true;\n\t\t\tel.winMenu_folder.enabled = true;\n\t\t\tel.winMenu_rename.enabled = true;\n\t\t\tel.winMenu_publish.enabled = true;\n\t\t}\n\t}\n\n\tself.notify = function (title, message, type, callback, sticky) {\n\t\tvar config = {\n\t\t\tbody: message\n\t\t}\n\t\tif (type === \"success\") {\n\t\t\tconfig.icon = 'file://' + app.path + '/assets/icon-success.png';\n\t\t} else if (type === \"failure\") {\n\t\t\tconfig.icon = 'file://' + app.path + '/assets/icon-error.png';\n\t\t} else if (type === \"warning\") {\n\t\t\tconfig.icon = 'file://' + app.path + '/assets/icon-warning.png';\n\t\t}\n\t\tif (sticky === true) {\n\t\t\tconfig.requireInteraction = true\n\t\t}\n\n\t\tvar notification = new Notification(title, config);\n\t\tif (callback) {\n\t\t\tnotification.onclick = callback;\n\t\t}\n\t\treturn notification;\n\t}\n\n\tself.alert = function (title, message, callback) {\n\t\tvar el = self._el;\n\t\tel.$app.addClass('alert');\n\t\talert(title + '\\n' + '(Full error details can be viewed in the project console.)');\n\t\tel.$app.removeClass('alert');\n\t\tif (callback) {\n\t\t\tcallback(title, message);\n\t\t}\n\t}\n\n\tself.log = function (message, details, type, category, callback) {\n\t\tvar el = self._el;\n\t\tvar $detailEl;\n\t\tvar $logItem = $('<div class=\"log-item\" data-type=\"' + type + '\" data-category=\"' + category + '\"><span class=\"toggler\"></span><span class=\"message\">' + message + '</span></div>');\n\t\tif (details !== null && details !== undefined) {\n\t\t\t$logItem.addClass('has-details');\n\t\t\t$detailEl = $('<div class=\"details\"></div>');\n\t\t\t$detailEl.append(details);\n\t\t\t$logItem.append($detailEl);\n\t\t\t$logItem.click(function() {\n\t\t\t\t$(this).toggleClass('open');\n\t\t\t});\n\t\t}\n\t\tif (el.$log) {\n\t\t\tel.$log.append($logItem);\n\t\t\tel.$log.scrollTop(el.$log[0].scrollHeight);\n\t\t}\n\n\t\tif (callback) {\n\t\t\tcallback($logItem);\n\t\t}\n\t\treturn $logItem;\n\t}\n\n\tself.downloadProgress = function (percent) {\n\t\tvar el = self._el;\n\t\tvar percent = percent * 100;\n\t\tpercent = percent + '%';\n\t\tel.$downloadBar.css('width', percent);\n\t}\n\n\tself.unzipProgress = function (percent) {\n\t\tvar el = self._el;\n\t\tvar percent = percent * 100;\n\t\tpercent = percent + '%';\n\t\tel.$downloadBar.css('width', percent);\n\t}\n\n\tself._init = function () {\n\t\twin.focus();\n\t\tself._setupWindows();\n\t\tself._bindAll();\n\t\tself._setAll();\n\t\tself._create_nativeMenus();\n\t\tself._toggleProjectOptions();\n\t\tvar el = self._el;\n\n\t\tapp.on('loading:start', function() {\n\t\t\tel.$app.addClass('loading');\n\t\t});\n\n\t\tapp.on('loading:end', function() {\n\t\t\tel.$app.removeClass('loading');\n\t\t});\n\n\t\tapp.on('projectChange:start', function() {\n\t\t\tel.$projectCard.addClass('processing');\n\t\t});\n\n\t\tapp.on('projectChange:end', function() {\n\t\t\tel.$projectCard.removeClass('processing');\n\t\t});\n\n\t\tapp.on('open', function (event) {\n\t\t\tif (!event.error) {\n\t\t\t\tvar el = self._el;\n\t\t\t\tapp.project.on('set', function() {\n\t\t\t\t\tself._setAll();\n\t\t\t\t});\n\t\t\t\tself._updateProject();\n\t\t\t} else {\n\t\t\t\tapp.project.on('set', function() {\n\t\t\t\t\tself._setAll();\n\t\t\t\t});\n\t\t\t\tself._updateProject(true);\n\t\t\t}\n\t\t});\n\n\t\tapp.message.on('new', function(event) {\n\t\t\tif (event.message === 'Project settings updated.') {\n\t\t\t\tvar settings = app.project.get('settings');\n\t\t\t\tvar JSONFormatter = el.console.JSONFormatter;\n\t\t\t\tvar projectInfo = el.console.document.getElementById('project-info');\n\t\t\t\tprojectInfo.innerHTML = '';\n\t\t\t\tvar formatter = new JSONFormatter(settings, 3, {theme: 'dark'});\n\t\t\t\tprojectInfo.appendChild(formatter.render());\n\t\t\t}\n\t\t});\n\n\t\tapp.on('new', function (event) {\n\t\t\tif (!event.error) {\n\t\t\t\tapp.project.on('set', function() {\n\t\t\t\t\tself._setAll();\n\t\t\t\t\tself._updateProject();\n\t\t\t\t});\n\t\t\t\tself._updateProject();\n\t\t\t}\n\t\t});\n\n\t\tapp.on('set', function () {\n\t\t\tself._setAll();\n\t\t});\n\n\t\tapp.on('init', function (event) {\n\t\t\tif (!event.error) {\n\t\t\t\tapp.cascade.on('set', function() {\n\t\t\t\t\tself._setAll();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tapp.on('download:start', function () {\n\t\t\tel.$app.addClass('downloading');\n\t\t});\n\n\t\tapp.on('download:end', function(event) {\n\t\t\tel.$downloadMessage.html('Unpacking Update...');\n\t\t});\n\n\t\tapp.on('update:end', function(event) {\n\t\t\tif (event.callback) {\n\t\t\t\tel.$downloadBar.css('width', '100%');\n\t\t\t\tel.$downloadOverlay.addClass('completed');\n\t\t\t\tel.$downloadOverlay.css('cursor', 'pointer');\n\t\t\t\tel.$downloadOverlay.click(function() {\n\t\t\t\t\tevent.callback();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tel.$app.removeClass('downloading');\n\t\t\t}\n\t\t});\n\n\t\tself.trigger('init', {\n\t\t\tmessage: 'User interface initialized successfully.'\n\t\t});\n\t}\n\n\tself._init();\n\n}\n\nutil.inherits(Ui, EventEmitter);"],"sourceRoot":"/source/"}